<h1 style="margin-top: 15px; margin-left: 90px"><b>My cart</b></h1>

<div class="container">
  <div *ngIf="cartPresent() == true" class="row">
    <div
      class="list-cart-item col-md-3 col-sm-4"
      *ngFor="let cartItem of currentCart.cartItems; let i = index"
      [class.active]="i == currentIndex"
      (click)="setActiveCartItem(cartItem, i)"
    >
      <mat-card class="mat-card" style="width: 70%;margin: auto;">
        <mat-card-title-group>
          <mat-card-title>
            {{ cartItem.cartItemName }}
          </mat-card-title>
        </mat-card-title-group>
        <mat-card-title-group>
          <!-- <mat-card-subtitle>{{ cartItem.cartItemType }}</mat-card-subtitle> -->
          <img
            height="200px"
            sizes="100px"
            mat-card-image
            src="{{ cartItem.cartItemImage }}"
            alt="product Photo"
          />
        </mat-card-title-group>
        <mat-card-content>
          <!-- <h4>Description: {{ cartItem.cartItemDescription }}</h4> -->
          <h4>
            Price: <b> ₹ {{ cartItem.cartItemPrice }} </b>
          </h4>
        </mat-card-content>
        <mat-card-actions style="display: flex; justify-content: space-evenly">
          <button
            mat-raised-button
            color="warn"
            (click)="removeFromCart(currentCart.cartId, cartItem.cartItemId)"
          >
            <mat-icon>remove_circle</mat-icon>
          </button>
          <span
            style="
              border: 1px solid grey;
              width: 30px;
              height: 30px;
              display: flex;
              align-items: center;
              justify-content: center;
              border-radius: 5px;
            "
            >{{ cartItem.cartItemQuantity }}</span
          >
          <button
            mat-raised-button
            color="primary"
            (click)="increaseQuantity(currentCart.cartId, cartItem.cartItemId)"
          >
            <mat-icon>add_circle</mat-icon>
          </button>
        </mat-card-actions>
      </mat-card>
    </div>

    <div>
      <mat-card class="cart-details">
        <h3 align="center">
          Total Amount: <b> ₹ {{ currentCart.totalAmount }}</b>
        </h3>
        <div style="display: flex;">
          <button
            [disabled]="currentCart.cartItems.length === 0"
            class="btn btn-danger btn-md btn-block"
            (click)="removeAllFromCart(currentCart.cartId)"
          >
            Clear Cart
          </button>
          <button
            [disabled]="currentCart.totalAmount === 0"
            style="margin-left: 1000px;"
            class="btn btn-success btn-md btn-block"
            (click)="openDialog()"
          >
            Proceed To Payment
          </button>
        </div>
      </mat-card>
      <br/><br/>
    </div>
  </div>
</div>

<ng-container *ngIf="cartPresent() == false">
  <div class="container">
    <div class="card"></div>
    <div class="center">
      <img
        src="https://rukminim1.flixcart.com/www/800/800/promos/16/05/2019/d438a32e-765a-4d8b-b4a6-520b560971e8.png?q=90"
        alt="img not f"
      />
      <h1>Your cart is empty!</h1>
      <h5>Add item to it now</h5>
      <button
        [routerLink]="['/product-list-for-customer']"
        class="btn btn-primary"
      >
        Shop Now
      </button>
    </div>
  </div>
</ng-container>
